<!DOCTYPE html>
<html>
    <head>
        <title>Custom Rugs | Rarerugs | Frame Optimiser</title>

        <meta charset="utf-8"/>
        <meta property="og:type" content="website">
        <meta name="description" content="Custom frame optimisation software">
        <meta property="og:title" content="Frame Optimiser">
        <meta property="og:image" content="http://rarerugs.club/images/logo.png">
        <meta property="og:image:secure_url" content="https://rarerugs.club/images/logo.png">
        <meta property="og:description" content="Custom frame optimisation software">
        <meta property="og:url" content="https://rarerugs.club/">
        <meta property="og:site_name" content="Frame Optimiser">
        <meta name="keywords" content="rarerugs, rare rugs, custom rugs, bespoke rugs, hand made rugs, uk based, tufting">

        <link rel="stylesheet" href="../main.css">
        <link rel="stylesheet" href="../font/stylesheet.css">
        <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.ico"/>
    </head>
    <body>
        <canvas id="sizer" width="0" height="0" style="border:1px solid #000000;display: block;margin-left: auto;margin-right: auto;">
        </canvas> 
        <form action="javascript:void(0);" onsubmit="workOutBlocks()">
            <label for="file-selector">Enter Files (select all when uploading):</label>
            <input type="file" id="file-selector" accept=".jpg, .jpeg, .png" multiple><br>
            <label for="width">width of frame (cm):</label>
            <input type="number" id="width" style="width:70px">
            <label for="height">height of frame (cm):</label>
            <input type="number" id="height" style="width:70px">
            <label for="margin">how much space do you need between each rug(cm):</label>
            <input type="number" id="margin" style="width:70px"><br>
            <div id="images"></div>
            <input type="submit">
        </form>
        <script>
            const fileSelector = document.getElementById('file-selector');
fileSelector.addEventListener('change', (event) => {
    const fileList = event.target.files;
    var outer = document.getElementById("images");
    outer.innerHTML = '';
    for (i=0; i<fileList.length;i++){
        readImage(fileList[i]);
    }
});

function readImage(file) {
    // Check if the file is an image.
    if (file.type && file.type.indexOf('image') === -1) {
        console.log('File is not an image.', file.type, file);
        return;
    }
    const reader = new FileReader();
    var outer = document.getElementById("images");
    var outerDiv = document.createElement("div");
    var img = document.createElement("img");
    reader.addEventListener('load', (event) => {
        img.src = event.target.result;
        img.style.height = "100px";

        outerDiv.appendChild(img);
        outerDiv.style = "display:flex;flex-direction:row;"
        inputDiv = document.createElement("div");
        inputDiv.style = "display:flex;flex-direction:column;"
        label = document.createElement("label"); 
        label.for = "height" + file.name;
        label.innerHTML = "Desired height for this picture:"
        inputDiv.appendChild(label)
        input = document.createElement("input"); 
        input.id = "height" + file.name;
        input.style.width = "50px"
        input.type = "number"
        inputDiv.appendChild(input)
        outerDiv.appendChild(inputDiv)
        outer.appendChild(outerDiv)
    });
    reader.readAsDataURL(file);
}
        </script>
        <div class="footer">
            <a href=".." class="newlocation" style="display:flex;flex-direction:column;align-items:end;">
                <h1 style="margin:0px;font-size: inherit;">rarerugs</h1>
                <h1 style="margin:0px;font-size: inherit;color:#FFFD87">.club</h1> 
            </a>
            <div style="display:flex;flex-direction:row;align-items:center;">
                <div style="display:flex;flex-direction:column;align-items:center;">
                    <a href="../about" class="newlocation">about</a>
                    <a href="../contact" class="newlocation">contact</a>
                </div>
                <div style="display:flex;flex-direction:column;align-items:center;">
                    <a href="../frames" class="newlocation">frames</a> 
                    <a href="../care" class="newlocation">care</a>
                </div>
            </div>
            <div class="socials">
                <a href="https://www.instagram.com/rare.rugs/" target="_blank" rel="noopener noreferrer"><img src="../images/instagram.png" alt="Instagram Logo" height="60px"></a>
                <a href="https://twitter.com/eyez_rr" target="_blank" rel="noopener noreferrer"><img src="../images/twitter.png" alt="Twitter Logo" height="60px"></a>
                <a href="https://vm.tiktok.com/ZSCq834Y/" target="_blank" rel="noopener noreferrer"><img src="../images/tiktok.png" alt="Tiktok Logo" height="60px"></a>        
            </div>
        </div>

        <script src="optimiser.js"></script>
    </body>
</html> 
